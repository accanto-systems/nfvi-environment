ddns-update-style interim;
ignore client-updates;
authoritative;
allow booting;
allow bootp;
allow unknown-clients;
# Set default and max IP lease time to infinite  with -1 value
default-lease-time -1;
max-lease-time -1;

subnet {{ dhcp_network }} netmask {{ dhcp_netmask }} {
        option routers {{ dhcp_options_router }};
        option domain-name-servers {{ hostvars['basehost'].ansible_host }};
        option ntp-servers {{ dhcp_options_ntp_server }};
        option domain-search {{ dhcp_options_dns_search }};
        filename "pxelinux.0";
        {% for vm in groups['openshift_helpers'] %}
        next-server {{ hostvars[vm].ansible_host }};
        {% endfor %} 
        {% for vm in groups['openshift_masters'] %}
        host {{ vm }}.{{ openshift_domain }}.{{ network_domain }} { hardware ethernet {{ hostvars[vm].mac_address }}; fixed-address {{ hostvars[vm].ansible_host }}; option host-name "{{ vm }}.{{ openshift_domain }}.{{ network_domain }}"; }
        {% endfor %} 
        {% for vm in groups['openshift_bootstraps'] %}
        host {{ vm }}.{{ openshift_domain }}.{{ network_domain }} { hardware ethernet {{ hostvars[vm].mac_address }}; fixed-address {{ hostvars[vm].ansible_host }}; option host-name "{{ vm }}.{{ openshift_domain }}.{{ network_domain }}"; }
        {% endfor %}
        {% for vm in groups['openshift_workers'] %}
        host {{ vm }}.{{ openshift_domain }}.{{ network_domain }} { hardware ethernet {{ hostvars[vm].mac_address }}; fixed-address {{ hostvars[vm].ansible_host }}; option host-name "{{ vm }}.{{ openshift_domain }}.{{ network_domain }}"; }
        {% endfor %}
}